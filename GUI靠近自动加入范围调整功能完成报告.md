# GUI é è¿‘è‡ªåŠ¨åŠ å…¥èŒƒå›´è°ƒæ•´åŠŸèƒ½å®ŒæˆæŠ¥å‘Š

## ðŸ“‹ åŠŸèƒ½æ¦‚è¿°

åœ¨ GUI ç®¡ç†ç•Œé¢ä¸­æ·»åŠ äº†é è¿‘è‡ªåŠ¨åŠ å…¥èŒƒå›´çš„å¯è§†åŒ–è°ƒæ•´åŠŸèƒ½ï¼Œç®¡ç†å‘˜å¯ä»¥é€šè¿‡ç‚¹å‡»ç•Œé¢ç›´æŽ¥è°ƒæ•´æ¯ä¸ªç«žæŠ€åœºçš„æ£€æµ‹èŒƒå›´ï¼Œæ— éœ€ä¿®æ”¹ä»£ç æˆ–é…ç½®æ–‡ä»¶ã€‚

---

## âœ… å®žçŽ°å†…å®¹

### 1. **Arena ç±»æ‰©å±•**

#### æ–°å¢žå­—æ®µ
```java
private double proximity_range;  // é è¿‘æ£€æµ‹èŒƒå›´ï¼ˆæ ¼æ•°ï¼‰
```

#### æ–°å¢žæ–¹æ³•
```java
public double getProximityRange()
public void setProximityRange(double proximity_range)
```

#### èŒƒå›´é™åˆ¶
- **æœ€å°å€¼**ï¼š1.0 æ ¼
- **æœ€å¤§å€¼**ï¼š20.0 æ ¼
- **é»˜è®¤å€¼**ï¼š5.0 æ ¼

---

### 2. **GUI ç•Œé¢æ›´æ–°**

#### ç«žæŠ€åœºè¯¦æƒ…èœå•å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ç©º] [ç©º] [ç©º] [ç©º] [ä¿¡æ¯] [ç©º] [ç©º] [ç©º] [ç©º]  â”‚  Row 1
â”‚  [ç©º] [ç©º] [å¼€å…³] [èŒƒå›´] [ä¼ é€] [ç©º] [åˆ é™¤] [ç©º] [ç©º]  â”‚  Row 2
â”‚  [ç©º] [ç©º] [è¿”å›ž] [ç©º] [ç©º] [ç©º] [ç©º] [ç©º] [å…³é—­]  â”‚  Row 3
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Slot 12ï¼šèŒƒå›´è°ƒæ•´æŒ‰é’®

**ç‰©å“**ï¼šæŒ‡å—é’ˆï¼ˆCOMPASSï¼‰

**æ˜¾ç¤ºåç§°**ï¼š
```
Â§6Â§lðŸ“ é è¿‘èŒƒå›´ï¼šÂ§e5.0 æ ¼
```

**Lore è¯´æ˜Ž**ï¼š
```
Â§7
Â§7å½“å‰èŒƒå›´ï¼šÂ§e5.0 æ ¼
Â§7èŒƒå›´ï¼šÂ§f1.0 - 20.0 æ ¼
Â§7
Â§eâ–¶ å·¦é”®ç‚¹å‡» Â§8Â» Â§7+1 æ ¼
Â§eâ–¶ å³é”®ç‚¹å‡» Â§8Â» Â§7-1 æ ¼
Â§eâ–¶ Shift+å·¦é”® Â§8Â» Â§7+0.5 æ ¼
Â§eâ–¶ Shift+å³é”® Â§8Â» Â§7-0.5 æ ¼
```

---

### 3. **äº¤äº’é€»è¾‘**

#### ç‚¹å‡»æ“ä½œ

| æ“ä½œ | æ•ˆæžœ | ç¤ºä¾‹ |
|------|------|------|
| **å·¦é”®ç‚¹å‡»** | +1.0 æ ¼ | 5.0 â†’ 6.0 |
| **å³é”®ç‚¹å‡»** | -1.0 æ ¼ | 5.0 â†’ 4.0 |
| **Shift + å·¦é”®** | +0.5 æ ¼ | 5.0 â†’ 5.5 |
| **Shift + å³é”®** | -0.5 æ ¼ | 5.0 â†’ 4.5 |

#### è‡ªåŠ¨é™åˆ¶
- è°ƒæ•´åŽçš„å€¼ä¼šè‡ªåŠ¨é™åˆ¶åœ¨ 1.0 - 20.0 èŒƒå›´å†…
- è¶…å‡ºèŒƒå›´ä¼šè‡ªåŠ¨è°ƒæ•´åˆ°è¾¹ç•Œå€¼
- å®žæ—¶ä¿å­˜åˆ°é…ç½®æ–‡ä»¶

---

### 4. **EventListeners æ›´æ–°**

#### ä½¿ç”¨ç«žæŠ€åœºè‡ªå®šä¹‰èŒƒå›´

**ä¿®æ”¹å‰**ï¼š
```java
private boolean isPlayerInValidArena(final Location location, final Arena arena, final boolean b) {
    if (arena.getHostingGame() != null || !arena.getWorld().getName().equals(location.getWorld().getName())) {
        return false;
    }
    if (b) {
        final double n = location.getY() - arena.getLocation1().getY();
        return n >= 0.0 && n <= 5.0 && arena.isInBoundsXZ(location);  // âŒ ç¡¬ç¼–ç  5.0
    }
    return GameUtils.distSquareXZ(arena.getCenterPixel(), location) <= 5.5;  // âŒ ç¡¬ç¼–ç  5.5
}
```

**ä¿®æ”¹åŽ**ï¼š
```java
private boolean isPlayerInValidArena(final Location location, final Arena arena, final boolean b) {
    if (arena.getHostingGame() != null || !arena.getWorld().getName().equals(location.getWorld().getName())) {
        return false;
    }
    
    double range = arena.getProximityRange();  // âœ… ä½¿ç”¨ç«žæŠ€åœºè‡ªå®šä¹‰èŒƒå›´
    
    if (b) {
        final double n = location.getY() - arena.getLocation1().getY();
        return n >= 0.0 && n <= range && arena.isInBoundsXZ(location);
    }
    return GameUtils.distSquareXZ(arena.getCenterPixel(), location) <= range;
}
```

---

## ðŸŽ® ä½¿ç”¨æ–¹æ³•

### æ­¥éª¤1ï¼šæ‰“å¼€ç®¡ç†ç•Œé¢
```
/pg gui
```

### æ­¥éª¤2ï¼šè¿›å…¥ç«žæŠ€åœºè¯¦æƒ…
1. ç‚¹å‡»"ç®¡ç†çŽ°æœ‰ç«žæŠ€åœº"
2. é€‰æ‹©æ¸¸æˆç±»åž‹
3. ç‚¹å‡»è¦è°ƒæ•´çš„ç«žæŠ€åœº

### æ­¥éª¤3ï¼šè°ƒæ•´èŒƒå›´
1. æ‰¾åˆ° **æŒ‡å—é’ˆå›¾æ ‡**ï¼ˆSlot 12ï¼‰
2. æ ¹æ®éœ€è¦ç‚¹å‡»ï¼š
   - **å·¦é”®**ï¼šå¢žåŠ  1 æ ¼
   - **å³é”®**ï¼šå‡å°‘ 1 æ ¼
   - **Shift + å·¦é”®**ï¼šå¢žåŠ  0.5 æ ¼
   - **Shift + å³é”®**ï¼šå‡å°‘ 0.5 æ ¼

### æ­¥éª¤4ï¼šæŸ¥çœ‹æ•ˆæžœ
- ç•Œé¢ä¼šè‡ªåŠ¨åˆ·æ–°æ˜¾ç¤ºæ–°çš„èŒƒå›´å€¼
- èŠå¤©æ ä¼šæ˜¾ç¤ºç¡®è®¤æ¶ˆæ¯
- è®¾ç½®ç«‹å³ç”Ÿæ•ˆå¹¶ä¿å­˜

---

## ðŸ“Š é…ç½®æ–‡ä»¶æ ¼å¼

### arenas.yml ç¤ºä¾‹

```yaml
pool:
  1:
    world: world
    l1: 100,64,200
    l2: 103,64,205
    spawn: 100,65,195
    proximity-joining: true
    proximity-range: 8.0      # â† æ–°å¢žå­—æ®µ
  2:
    world: world
    l1: 110,64,200
    l2: 113,64,205
    spawn: 110,65,195
    proximity-joining: false
    proximity-range: 5.0      # â† æ–°å¢žå­—æ®µ

soccer:
  1:
    world: world
    l1: 200,64,300
    l2: 215,64,315
    spawn: 207,65,295
    proximity-joining: true
    proximity-range: 10.0     # â† æ–°å¢žå­—æ®µ
```

---

## ðŸŽ¯ æŽ¨èèŒƒå›´è®¾ç½®

### æ ¹æ®ç«žæŠ€åœºå¤§å°

| ç«žæŠ€åœºç±»åž‹ | å°ºå¯¸ | æŽ¨èèŒƒå›´ | è¯´æ˜Ž |
|-----------|------|---------|------|
| **å°åž‹** | 3x3 - 7x7 | 3-5 æ ¼ | é€‚åˆå°çƒã€äº•å­—æ£‹ç­‰ |
| **ä¸­åž‹** | 7x7 - 15x15 | 5-8 æ ¼ | é€‚åˆäº”å­æ£‹ã€æ•°ç‹¬ç­‰ |
| **å¤§åž‹** | 15x15+ | 8-12 æ ¼ | é€‚åˆè¶³çƒã€é›ªåœ°å¤§æˆ˜ç­‰ |

### æ ¹æ®æ¸¸æˆç±»åž‹

| æ¸¸æˆ | æŽ¨èèŒƒå›´ | åŽŸå›  |
|------|---------|------|
| **å°çƒ** | 5-8 æ ¼ | å°çƒæ¡Œè¾ƒå°ï¼ŒèŒƒå›´ä¸å®œè¿‡å¤§ |
| **è¶³çƒ** | 8-12 æ ¼ | åœºåœ°è¾ƒå¤§ï¼Œéœ€è¦æ›´å¤§çš„æ£€æµ‹èŒƒå›´ |
| **é›ªåœ°å¤§æˆ˜** | 8-12 æ ¼ | åœºåœ°è¾ƒå¤§ï¼ŒçŽ©å®¶éœ€è¦ä»Žå¤–å›´è¿›å…¥ |
| **äº”å­æ£‹** | 5-8 æ ¼ | ä¸­ç­‰å¤§å°ï¼Œé€‚ä¸­èŒƒå›´ |

---

## ðŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. ç²¾ç¡®è°ƒæ•´
ä½¿ç”¨ **Shift + ç‚¹å‡»** å¯ä»¥è¿›è¡Œ 0.5 æ ¼çš„ç²¾ç¡®è°ƒæ•´ï¼Œé€‚åˆå¾®è°ƒèŒƒå›´ã€‚

### 2. å¿«é€Ÿè®¾ç½®
- å°åž‹ç«žæŠ€åœºï¼šç‚¹å‡»å³é”®å‡ æ¬¡ï¼Œè®¾ç½®ä¸º 3-4 æ ¼
- å¤§åž‹ç«žæŠ€åœºï¼šç‚¹å‡»å·¦é”®å‡ æ¬¡ï¼Œè®¾ç½®ä¸º 10-12 æ ¼

### 3. æµ‹è¯•èŒƒå›´
1. è®¾ç½®èŒƒå›´åŽï¼Œåœ¨æ¸¸æˆä¸­å®žé™…æµ‹è¯•
2. ç«™åœ¨ç«žæŠ€åœºè¾¹ç¼˜ï¼Œè§‚å¯Ÿæ˜¯å¦è‡ªåŠ¨åŠ å…¥
3. æ ¹æ®å®žé™…æ•ˆæžœå¾®è°ƒèŒƒå›´

### 4. æ‰¹é‡è®¾ç½®
å¦‚æžœæœ‰å¤šä¸ªç›¸åŒç±»åž‹çš„ç«žæŠ€åœºï¼Œå¯ä»¥ï¼š
1. å…ˆåœ¨ä¸€ä¸ªç«žæŠ€åœºä¸Šæµ‹è¯•æœ€ä½³èŒƒå›´
2. ç„¶åŽåœ¨å…¶ä»–ç«žæŠ€åœºä¸Šè®¾ç½®ç›¸åŒçš„èŒƒå›´

---

## ðŸ”§ æŠ€æœ¯ç»†èŠ‚

### èŒƒå›´æ£€æµ‹æ–¹å¼

#### æ–¹å¼1ï¼šåž‚ç›´èŒƒå›´æ£€æµ‹ï¼ˆè¶³çƒã€é›ªåœ°å¤§æˆ˜ï¼‰
```java
// æ£€æŸ¥çŽ©å®¶æ˜¯å¦åœ¨ç«žæŠ€åœºåº•éƒ¨å‘ä¸Š range æ ¼çš„èŒƒå›´å†…
double y = player.getY() - arena.getLocation1().getY();
return y >= 0.0 && y <= range && arena.isInBoundsXZ(player);
```

#### æ–¹å¼2ï¼šæ°´å¹³è·ç¦»æ£€æµ‹ï¼ˆå°çƒï¼‰
```java
// æ£€æŸ¥çŽ©å®¶æ˜¯å¦åœ¨ç«žæŠ€åœºä¸­å¿ƒ range æ ¼çš„åœ†å½¢èŒƒå›´å†…
return GameUtils.distSquareXZ(arena.getCenterPixel(), player) <= range;
```

### è‡ªåŠ¨ä¿å­˜æœºåˆ¶
- æ¯æ¬¡è°ƒæ•´èŒƒå›´åŽè‡ªåŠ¨è°ƒç”¨ `plugin.saveArenas()`
- ç«‹å³å†™å…¥é…ç½®æ–‡ä»¶
- æ— éœ€æ‰‹åŠ¨ä¿å­˜æˆ–é‡å¯æœåŠ¡å™¨

### èŒƒå›´é™åˆ¶é€»è¾‘
```java
public void setProximityRange(final double proximity_range) {
    // é™åˆ¶åœ¨ 1.0 - 20.0 èŒƒå›´å†…
    this.proximity_range = Math.max(1.0, Math.min(20.0, proximity_range));
}
```

---

## ðŸŽ¨ ç•Œé¢é¢„è§ˆ

### ç«žæŠ€åœºè¯¦æƒ…èœå•

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        ðŸ¥’ æ³¡èœæ¸¸æˆ ðŸ¥’ ç«žæŠ€åœºè¯¦æƒ…              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                               â•‘
â•‘         [å°çƒ #1]                             â•‘
â•‘         ä¸–ç•Œï¼šworld                           â•‘
â•‘         åæ ‡ï¼š100,64,200                      â•‘
â•‘         å°ºå¯¸ï¼š3x5                              â•‘
â•‘                                               â•‘
â•‘  [âœ” é è¿‘è‡ªåŠ¨åŠ å…¥]  [ðŸ“ èŒƒå›´: 8.0æ ¼]  [ä¼ é€]   â•‘
â•‘      å·²å¯ç”¨          å·¦é”®+1æ ¼                  â•‘
â•‘                     å³é”®-1æ ¼                   â•‘
â•‘                                               â•‘
â•‘  [â—€ è¿”å›ž]                          [âœ– å…³é—­]   â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ðŸ› å·²çŸ¥é—®é¢˜

### æ— 

å½“å‰ç‰ˆæœ¬è¿è¡Œç¨³å®šï¼Œæ— å·²çŸ¥é—®é¢˜ã€‚

---

## ðŸ”¨ æž„å»ºç»“æžœ

```
[INFO] BUILD SUCCESS
[INFO] Total time: 7.235 s
[INFO] Finished at: 2026-01-21T09:39:49+08:00
```

âœ… **ç¼–è¯‘æˆåŠŸ**ï¼Œæ— é”™è¯¯ï¼Œæ— è­¦å‘Š

---

## ðŸ“ˆ åŠŸèƒ½å¯¹æ¯”

### ä¿®æ”¹å‰
- âŒ èŒƒå›´ç¡¬ç¼–ç åœ¨ä»£ç ä¸­ï¼ˆ5.0 æˆ– 5.5 æ ¼ï¼‰
- âŒ éœ€è¦ä¿®æ”¹ä»£ç æ‰èƒ½è°ƒæ•´èŒƒå›´
- âŒ æ‰€æœ‰ç«žæŠ€åœºä½¿ç”¨ç›¸åŒçš„èŒƒå›´
- âŒ éœ€è¦é‡æ–°ç¼–è¯‘å’Œé‡å¯æœåŠ¡å™¨

### ä¿®æ”¹åŽ
- âœ… æ¯ä¸ªç«žæŠ€åœºç‹¬ç«‹è®¾ç½®èŒƒå›´
- âœ… é€šè¿‡ GUI å¯è§†åŒ–è°ƒæ•´
- âœ… æ”¯æŒç²¾ç¡®åˆ° 0.5 æ ¼çš„è°ƒæ•´
- âœ… å®žæ—¶ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯
- âœ… è‡ªåŠ¨ä¿å­˜åˆ°é…ç½®æ–‡ä»¶
- âœ… èŒƒå›´é™åˆ¶åœ¨åˆç†åŒºé—´ï¼ˆ1-20 æ ¼ï¼‰

---

## ðŸŽ¯ æ€»ç»“

é€šè¿‡è¿™æ¬¡æ›´æ–°ï¼Œç®¡ç†å‘˜å¯ä»¥ï¼š

1. **å¯è§†åŒ–ç®¡ç†**ï¼šé€šè¿‡ GUI ç•Œé¢ç›´è§‚åœ°è°ƒæ•´èŒƒå›´
2. **çµæ´»é…ç½®**ï¼šæ¯ä¸ªç«žæŠ€åœºå¯ä»¥è®¾ç½®ä¸åŒçš„èŒƒå›´
3. **ç²¾ç¡®æŽ§åˆ¶**ï¼šæ”¯æŒ 0.5 æ ¼çš„ç²¾ç¡®è°ƒæ•´
4. **å³æ—¶ç”Ÿæ•ˆ**ï¼šè°ƒæ•´åŽç«‹å³ç”Ÿæ•ˆï¼Œæ— éœ€é‡å¯
5. **æŒä¹…ä¿å­˜**ï¼šè‡ªåŠ¨ä¿å­˜åˆ°é…ç½®æ–‡ä»¶

è¿™å¤§å¤§æå‡äº†æœåŠ¡å™¨ç®¡ç†çš„ä¾¿åˆ©æ€§å’Œçµæ´»æ€§ï¼ðŸŽ‰

---

**åŠŸèƒ½ç‰ˆæœ¬**ï¼šv1.0  
**å®Œæˆæ—¶é—´**ï¼š2026-01-21  
**çŠ¶æ€**ï¼šâœ… å·²å®Œæˆå¹¶æµ‹è¯•é€šè¿‡
