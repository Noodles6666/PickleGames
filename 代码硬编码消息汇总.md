# LobbyGames 代码硬编码消息汇总

## 问题说明

插件的 Java 代码中有大量硬编码的英文消息，这些消息**不是从配置文件读取的**，而是直接写在代码里。即使配置文件完全汉化，这些消息仍然会显示英文。

## 需要汉化的代码文件

### 1. LobbyGamesCommand.java（主命令类）- 最重要

**位置**：`decompiled_procyon/me/c7dev/lobbygames/commands/LobbyGamesCommand.java`

**硬编码消息列表**：

#### 错误消息
- `"§4Error: §c'" + s + "' is not an existing lobby game type!"`
- `"§4Error: §c'" + s2 + "' is not a number!"`
- `"§4Error: §cThere is no " + GameUtils.outgoingAliases(gameType, this.plugin) + " arena with ID " + int1`
- `"§4Error: §cThis command is disabled in the config (lg-join-cmd-enabled)"`
- `"§4Error: §c'" + array[1] + "' is not an existing lobby game type!"`
- `"§4Error: §c'" + array[2] + "' is not a number!"`
- `"§4Error: §cThis arena has a game in progress!"`
- `"§4Error: §cCould not delete this arena!"`
- `"§4Error: §cThis confirmation has expired!"`
- `"§4Error: §cYou must be in editing mode for this! Use §n/lg create"`
- `"§4Error: §cCoordinates are invalid (uncaught error in setup phase)"`
- `"§4Error: §c" + player2.getName() + " is not in a game!"`
- `"§4Error: §cThis player is offline!"`
- `"§4Error: §cUnknown lobby game '" + array[1]`
- `"§4Error: §c'" + array[2] + "' is not an existing lobby game type"`
- `"§4Error: §cThere is already a leaderboard in this location!"`
- `"§4Error: §c'" + array[3] + "' is not an existing lobby game type"`
- `"§4Error: §cCould not find player '" + array[2] + "'!"`
- `"§4Error: §cThis arena does not have a local leaderboard!"`

#### 使用说明消息
- `"§4Usage: §c/lg join <game> [arena_id]"`
- `"§4Usage: §c/lg delete <game> <arena id>"`
- `"§4Usage: §c/lg create <game_type>"`
- `"§4Usage: §c/lg tp <game> <arena id>"`
- `"§4Usage: §c/lg list [game]"`
- `"§4Usage: §c/lg kick <player>"`
- `"§4Usage: §c/lg leaderboard <create;clear;delete> <game>"`

#### 帮助消息
- `"§bUsing LobbyGames v" + this.plugin.getVersion()`
- `"§aUse §b/lg help§a to get started!"`
- `"\n§3§lLobbyGames commands:"`
- `"§b/lg join <game> [arena id]"`
- `"§b/lg restart"`
- `"§b/lg quit"`
- `"§b/lg list [game] §7- lobbygames.command"`
- `"§b/lg tp <game> <arena id> §7- lobbygames.command"`
- `"§b/lg kick <player> §7- lobbygames.kickplayer"`
- `"§b/lg clearstands <game> <arena id> §7- lobbygames.admin"`
- `"§b/lg create <game> §7- lobbygames.admin"`
- `"§b/lg delete <game> <arena id> §7- lobbygames.admin"`
- `"§b/lg leaderboard <create;clear;delete> <game> §7- lobbygames.admin"`
- `"§b/lg reload §7- lobbygames.admin"`

#### 成功消息
- `"§bLobbyGames has been reloaded!"`
- `"§aSuccessfully set the §b" + array[1].toLowerCase() + "§a location!"`
- `"§aSuccessfully kicked " + player2.getName() + " from a lobby game!"`
- `"§aSuccessfully added a global leaderboard for " + ...`
- `"§aSuccessfully cleared the local leaderboard for this arena!"`
- `"§aSuccessfully deleted the local leaderboard for this arena!"`
- `"§aSuccessfully deleted the global leaderboard for " + ...`
- `"§aSuccessfully cleared the global leaderboard for " + ...`
- `"§7Deleted an unfinished arena."`
- `"§aArmor stands were cleared for this arena"`
- `"§bArena deleted. Note that all " + ... + " arenas with a larger ID have been shifted down by 1."`

#### 其他消息
- `"§cAre you sure you want to delete this arena? Type /lg confirm"`
- `"§6Warning: §eThere is currently an active game in this arena."`
- `"§6Warning: §eThe IDs of all " + ... + " arenas higher than " + ... + " will be shifted down by 1!"`
- `"§7You were kicked from a lobby game by " + player.getName()`
- `"§bArena list for " + ...`
- `"§b  Arena " + ... + " §7(Status: " + ... + ")"`

### 2. GameCreateInstance.java（游戏创建类）

**位置**：`decompiled_procyon/me/c7dev/lobbygames/commands/GameCreateInstance.java`

需要检查是否有硬编码的创建游戏相关的消息。

### 3. JoinCommand.java（加入命令类）

**位置**：`decompiled_procyon/me/c7dev/lobbygames/commands/JoinCommand.java`

需要检查是否有硬编码的加入游戏相关的消息。

### 4. ConsoleJoinCommand.java（控制台加入命令类）

**位置**：`decompiled_procyon/me/c7dev/lobbygames/commands/ConsoleJoinCommand.java`

需要检查控制台命令相关的消息。

## 解决方案

### 方案 1：修改 Java 代码（推荐，完美汉化）

将所有硬编码的消息改为从配置文件读取：

```java
// 原代码：
player.sendMessage("§4Error: §c'" + s + "' is not an existing lobby game type!");

// 修改为：
player.sendMessage(this.plugin.getConfigString("error-invalid-game-type", "§4Error: §c'" + s + "' is not an existing lobby game type!"));
```

然后在 `config.yml` 中添加对应的配置项：
```yaml
error-invalid-game-type: "&4错误：&c'%game%' 不是有效的游戏类型！"
```

**优点**：完美汉化，所有消息都可以自定义
**缺点**：需要修改大量 Java 代码并重新编译

### 方案 2：仅汉化配置文件（当前状态）

只汉化 `config.yml` 中的消息，代码中的硬编码消息保持英文。

**优点**：简单快速
**缺点**：命令相关的消息（错误、帮助、成功提示等）仍然是英文

## 影响范围

### 已汉化（配置文件）✅
- 游戏内消息（开始、结束、得分等）
- 游戏规则说明
- 排行榜标题和格式
- 通用错误消息（部分）
- 告示牌文本

### 未汉化（硬编码）❌
- `/lg help` 命令的帮助信息
- `/lg create` 创建游戏的提示
- `/lg delete` 删除游戏的确认消息
- `/lg list` 列表显示
- `/lg tp` 传送消息
- `/lg kick` 踢出玩家消息
- `/lg leaderboard` 排行榜管理消息
- 所有命令的错误提示（如"不是有效的游戏类型"、"不是数字"等）
- 所有命令的使用说明（Usage: ...）

## 建议

如果你希望**完全汉化**插件，需要：

1. 修改 `LobbyGamesCommand.java` 中的所有硬编码消息
2. 在 `config.yml` 中添加对应的配置项
3. 重新编译插件

如果你只需要**游戏内汉化**（玩家游玩时看到的消息），当前的配置文件汉化已经足够。

## 估计工作量

- **修改代码**：约 100+ 处硬编码消息需要修改
- **添加配置项**：约 50+ 个新配置项
- **测试**：需要测试所有命令和功能
- **预计时间**：4-6 小时

## 当前状态

✅ 配置文件完全汉化（游戏内消息）
❌ Java 代码未汉化（命令消息）

**结论**：如果只是玩家游玩游戏，当前汉化已经足够。如果管理员也需要中文界面，需要修改 Java 代码。
